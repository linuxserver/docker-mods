proxy_intercept_errors on;
error_page 502 = @waking_up;
location @waking_up {
    add_header Retry-After 5 always;
    default_type text/html;
    return 502 '<!DOCTYPE html>
    <html>
    <head>
        <title>Waking Up...</title>
        <meta http-equiv="refresh" content="5">
        <style>body{font-family:sans-serif;text-align:center;padding-top:50px;background-color:#303030;color:#ffffff;}</style>
    </head>
    <body>
        <h1>Application is sleeping</h1>
        <p>Please wait while it wakes up...</p>
        <p>This page will refresh automatically.</p>
    </body>
    </html>';
}